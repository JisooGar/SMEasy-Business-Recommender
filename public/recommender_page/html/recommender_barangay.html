<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMEasy | Barangay</title>
    <link rel="stylesheet" href="/homepage/homepage.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="/recommender_page/css/recommender.css">
    <link rel="stylesheet" href="/recommender_page/css/recommender_barangay.css">
</head>
<body>

<!-- HEADER -->
<nav class="header">
    <div class="header-content">
        <!-- Logo and Title -->
        <div class="logo-section">
            <img src="smeasylogo.png" alt="LOGO" class="logo">
            <div class="logo-text">
                <span class="name">SMEasy</span>
                <span class="profession">Business Homepage</span>
            </div>
        </div>

        <!-- Navigation Links -->
        <ul class="nav-links">
            <li><a href="/homepage/homepage.html"><i class='bx bx-home-alt icon'></i> Homepage</a></li>
            <li><a href="/analytics/analytics.html"><i class='bx bx-bar-chart-alt-2 icon'></i> Visualization</a></li>
            <li><a href="/recommender_page/recommender.html"><i class='bx bx-pie-chart-alt icon'></i> Analysis</a></li>
            <li><a href="/about.html/aboutUs.html"><i class='bx bx-heart icon'></i> About</a></li>
        </ul>

        <!-- User Profile Dropdown -->
        <div class="user-profile">
            <button id="profileDropdownButton" class="profile-btn">
                <span class="user-initial">G</span>
            </button>
            <div id="profileDropdown" class="profile-dropdown hidden">
                <div class="profile-info">
                    <span id="userName">Geron</span>
                    <span id="userEmail">geron@example.com</span>
                </div>
                <hr>
                <div class="header-controls">
                    <a href="" id="signOutButton" class="logout"><i class='bx bx-log-out icon'></i> Logout</a>
                    <div class="dark-mode-toggle">
                        <span class="mode-text">Dark mode</span>
                        <div class="toggle-switch">
                            <span class="switch"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Logout Modal -->
<div id="logoutModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Log Out</h2>
      <p>Are you sure you want to log out?</p>
      <div class="button-container">
        <button id="confirmLogout" class="modal-btn yes-btn">Yes, Log Out</button>
        <button id="cancelLogout" class="modal-btn no-btn">No, Stay</button>
      </div>
    </div>
  </div>

<section class="home">
    <div class="container">
        <div class="left-section">
            <h2>Location Recommender</h2>
        
            <!-- Barangay Buttons -->
            <div id="categories-container">
                <h3>Select a category</h3>
                <div id="category-buttons">
                    <button class="barangay-btn" onclick="selectBusiness(this)">Food Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Retail Stores</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Healthcare Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Professional Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Manufacturing and Production</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Construction and Real Estate</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">IT and Digital Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Transportation and Logistics</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Personal and Household Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Creative and Media Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Automotive Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Entertainment and Recreation</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Wholesale and Distribution</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Tourism and Hospitality</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Educational Services</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Cooperative Business</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Finance and Insurance</button>
                    <button class="barangay-btn" onclick="selectBusiness(this)">Personal Care Services</button>
                </div>
            </div>  
        
            <div class="button-section">
                <button class="btn proceed-btn" id="proceed-button" onclick="handleProceed()">Proceed</button>
            </div>
        </div>

    <div class="right-section" id="result-section" style="display:none;">
        <div id="table-container" class="scrollable-table-container">
            <h1>Top 3 Recommended Barangay</h1>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Barangay</th>
                        <th>Probability</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <div class="button-section">
            <button class="btn analyze-btn" id="analyze-button" onclick="handleAnalyze()">Analyze</button>
        </div>
    </div>
</section>

<div class="recommendation-section">
    <h1>Location Recommendation for Building Your Business</h1>
    <h2 id="barangayName">BRGY NAME: [Insert Barangay Name]</h2>

    <div class="recommendation-grid">
        <!-- Business Overview -->
        <div class="grid-item">
            <h3>Business Overview</h3>
            <p>Selected Main Category: <span id="mainCategory"></span></p>
            <p>Total Businesses in Cabuyao City: <span id="totalBusinesses"></span></p>
            <p>Number of Businesses in Selected Barangay: <span id="topCounts"></span></p>
        </div>

        <!-- Market Gaps Analysis -->
        <div class="grid-item">
            <h3>Analysis of Market Demand and Gaps</h3>
            <table border="1" style="border-collapse: collapse; table-layout: auto; margin-bottom: 20px;">
                <tr>
                    <th> Market Gap / Demand</th>
                    <th>Legend</th>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Critical Gap / High Demand</td>
                    <td style="padding-left: 10px; padding-right: 10px;"><span id="highDemand"></span></td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Moderate Gap / Medium Demand</td>
                    <td style="padding-left: 10px; padding-right: 10px;"><span id="mediumDemand"></span></td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Minor Gap / Low Demand</td>
                    <td style="padding-left: 10px; padding-right: 10px;"><span id="lowDemand"></span></td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">No Gap / Very Low Demand</td>
                    <td style="padding-left: 10px; padding-right: 10px;"><span id="noDemand"></span></td>
                </tr>
            </table>
            <p>Market Demand: <span id="marketDemand"></span></p>
            <p>Business Gaps: <span id="businessGaps"></span></p>
        </div>

        <!-- Population and Segmentation Analysis -->
        <div class="grid-item market-gaps">
            <h3>Population and Segmentation Analysis</h3>
            <p>Population Density: <span id="populationOverview"></span></p>
            <p>Customer Segmentation: </p>
            <br>
            <p>Psychographics: </p>
            <p>Motivation for choosing business: <span id="businessMotivation"></span></p>
            <p>Shopping Traits: <span id="shopingTraits"></span></p>
            <p>Factors for visiting new business: <span id="businessFactors"></span></p>
            <p>Shopping Style: <span id="shopingStyle"></span></p>
            <br>
            <p>Behavioral: </p>
            <p>Business Visits: <span id="businessVisits"></span></p>
            <p>Frequency Visits: <span id="frequencyVisits"></span></p>
            <p>Browsing Behavior: <span id="browsingBehavior"></span></p>
            <p>Shopping Preference: <span id="shoppingPreference"></span></p>
            <p>Satisfaction with Business: <span id="businessSatisfaction"></span></p>
            <p>Lacking Businesses: <span id="businessLacking"></span></p>
        </div>

        <!-- Competition Analysis -->
        <div class="grid-item">
            <h3>Competition Analysis</h3>
            <table border="1" style="border-collapse: collapse; table-layout: auto; margin-bottom: 20px;">
                <tr>
                    <th>Legend</th>
                    <th>Score</th>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Very High Competition</td>
                    <td style="padding-left: 10px; padding-right: 10px;">76 - 100</td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">High Competition</td>
                    <td style="padding-left: 10px; padding-right: 10px;">51 - 75</td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Low Competition</td>
                    <td style="padding-left: 10px; padding-right: 10px;">26 - 50</td>
                </tr>
                <tr>
                    <td style="padding-left: 10px; padding-right: 10px;">Very Low Competition</td>
                    <td style="padding-left: 10px; padding-right: 10px;">0 - 25</td>
                </tr>
            </table>

            <p>Competition Density: <span id="competitionDensity"></span></p>
            <p>Direct Competitor: <span id="directCompetitor"></span></p>
            <p>Indirect Competitor: <span id="indirectCompetitor"></span></p>
            <p>Replacement: <span id="replacementCompetitor"></span></p>
        </div>

        <!-- Accessibility and Infrastructure -->
        <div class="grid-item">
            <h3>Accessibility and Infrastructure</h3>
            <div style="display: inline-block; margin-right: 20px;">
                <table border="1" style="border-collapse: collapse; table-layout: auto; margin-bottom: 20px;">
                    <tr>
                        <th>Area Type Legend</th>
                        <th>Score</th>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Highly Favorable</td>
                        <td style="padding-left: 10px; padding-right: 10px;">76 - 100</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Moderately Favorable</td>
                        <td style="padding-left: 10px; padding-right: 10px;">51 - 75</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Somewhat Favorable</td>
                        <td style="padding-left: 10px; padding-right: 10px;">26 - 50</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Unfavorable</td>
                        <td style="padding-left: 10px; padding-right: 10px;">0 - 25</td>
                    </tr>
                </table>
            </div>
        
            <div style="display: inline-block;">
                <table border="1" style="border-collapse: collapse; table-layout: auto; margin-bottom: 20px;">
                    <tr>
                        <th>Transport Legend</th>
                        <th>Score</th>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Excellent Transport</td>
                        <td style="padding-left: 10px; padding-right: 10px;">76 - 100</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Good Transport</td>
                        <td style="padding-left: 10px; padding-right: 10px;">51 - 75</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Limited Transport</td>
                        <td style="padding-left: 10px; padding-right: 10px;">26 - 50</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 10px; padding-right: 10px;">Poor Transport</td>
                        <td style="padding-left: 10px; padding-right: 10px;">0 - 25</td>
                    </tr>
                </table>
            </div>
            <p>Area Type: <span id="areaType"></span></p>
            <p>Public Transport Access: <span id="TranspoAccess"></span></p>
            <p>Transport Challenges: <span id="TranspoChallenge"></span></p>
        </div>
    </div>

    <div class="recommendation-summary">
        <h3>Recommendation Summary</h3>
        <p id="recommendationSummary"></p>
    </div>
</div>

<div id="loading-spinner" style="display: none;">
    <div class="spinner"></div>
</div>

<script src="/homepage/homepage.js"></script>
<script src="/recommender_page/javascript/recommender_barangay.js"></script>

</body>
</html>
