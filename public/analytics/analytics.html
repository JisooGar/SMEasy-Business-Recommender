<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMEasy | Visualization Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="analytics.js" defer></script>
    <link rel="stylesheet" href="/homepage/homepage.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript">
        function preventBack() { window.history.forward(); }
        setTimeout("preventBack()", 0);
        window.onunload = function () { null; }
    </script>
    <style>
        /* Fix header to the top */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #ffffff;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Adjust the margin for the main content */
        .main-content {
            margin-top: 80px; /* Adjust this value to match the header height */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

<!-- HEADER -->
<nav class="header">
    <div class="header-content">
        <!-- Logo and Title -->
        <div class="logo-section">
            <img src="/homepage/smeasylogo.png" alt="LOGO" class="logo">
            <div class="logo-text">
                <span class="name">SMEasy</span>
                <span class="profession">Business Homepage</span>
            </div>
        </div>

        <!-- Navigation Links -->
        <ul class="nav-links">
            <li><a href="/homepage/homepage.html"><i class='bx bx-home-alt'></i> Homepage</a></li>
            <li><a href="/analytics/analytics.html"><i class='bx bx-bar-chart-alt-2'></i> Visualization</a></li>
            <li><a href="/recommender_page/recommender.html"><i class='bx bx-pie-chart-alt'></i> Analysis</a></li>
            <li><a href="/about.html/aboutUs.html"><i class='bx bx-heart'></i> About</a></li>
        </ul>
        

        <!-- User Profile Dropdown -->
        <div class="user-profile">
            <button id="profileDropdownButton" class="profile-btn">
                <i class='bx bx-user-circle'></i>
            </button>  
            <div id="profileDropdown" class="profile-dropdown hidden">
                <div class="profile-info">
                    <span id="userName">Geron</span>
                    <span id="userEmail">geron@example.com</span>
                </div>
                <hr>
                <div class="header-controls">
                    <a href="" id="signOutButton" class="logout">Logout</a>
                    <div class="dark-mode-toggle">
                        <span class="mode-text">Dark mode</span>
                        <div class="toggle-switch">
                            <span class="switch"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Logout Modal -->
<div id="logoutModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Log Out</h2>
      <p>Are you sure you want to log out?</p>
      <div class="button-container">
        <button id="confirmLogout" class="modal-btn yes-btn">Yes, Log Out</button>
        <button id="cancelLogout" class="modal-btn no-btn">No, Stay</button>
      </div>
    </div>
  </div>

 <!-- MAIN CONTENT -->
 <div class="main-content">
    <!-- Example content to show the adjustment -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <h1 class="text-xl font-bold">Welcome to SMEasy</h1>
        <p>See the Insights of the Cabuyao Visualization.</p>
        <!-- Your other content goes here -->
    </div>
</div>

<!-- MAIN CONTENT -->
<div class="max-w-7xl mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-3 gap-6">

   <!-- LEFT SECTION -->
<div class="space-y-4">
    <div class="bg-white rounded-lg shadow p-4">
        <label for="dateRange" class="block text-gray-700 font-bold mb-2">Select Business Category:</label>
        <select id="dateRange" class="w-full border border-gray-300 rounded-md p-2 mb-4">
            <option value="All">All</option>
            <option value="Automotive Services">Automotive Services</option>
            <option value="Construction and Real Estate">Construction and Real Estate</option>
            <option value="Cooperative Business">Cooperative Business</option>
            <option value="Creative and Media Services">Creative and Media Services</option>
            <option value="Educational Services">Educational Services</option>
            <option value="Entertainment and Recreation">Entertainment and Recreation</option>
            <option value="Finance and Insurance">Finance and Insurance</option>
            <option value="Food Services">Food Services</option>
            <option value="Healthcare Services">Healthcare Services</option>
            <option value="IT and Digital Services">IT and Digital Services</option>
            <option value="Manufacturing and Production">Manufacturing and Production</option>
            <option value="Personal and Household Services">Personal and Household Services</option>
            <option value="Personal Care Services">Personal Care Services</option>
            <option value="Professional Services">Professional Services</option>
            <option value="Retail Stores">Retail Stores</option>
            <option value="Tourism and Hospitality">Tourism and Hospitality</option>
            <option value="Transportation and Logistics">Transportation and Logistics</option>
            <option value="Wholesale and Distribution">Wholesale and Distribution</option>
        </select>
        <h3 class="font-bold text-lg">Total Number of Businesses</h3>
        <p id="totalBusinesses" class="text-2xl font-extrabold">2680</p>
        <span class="text-sm text-green-500">As of May 2024</span>
    </div>
    <div id="populationContainer" class="bg-white rounded-lg shadow p-4">
        <h3 class="font-bold text-lg">Cabuyao Population</h3>
        <p id="population" class="text-2xl font-extrabold">421,440</p>
        <span class="text-sm text-green-500">As of 2023</span>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
        <h3 class="font-bold text-lg">Barangay with the Most</h3>
        <p id="stat3" class="text-2xl font-extrabold">???</p>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
        <h3 class="font-bold text-lg">Barangay with the Least</h3>
        <p id="stat4" class="text-2xl font-extrabold">???</p>
    </div>
    <div id="highestMarketDemand" class="bg-white rounded-lg shadow p-4" hidden>
        <h3 class="font-bold text-lg">Barangay with Highest Market Demands</h3>
        <p id="marketDemands" class="text-2xl font-extrabold">???</p>
        <span class="text-sm text-green-500">As of October 2024</span>
    </div>
<!-- Cabuyao Population Graph -->
<div id="cabuyaoPopulationGraph" class="bg-white rounded-lg shadow p-5 h-74 hidden">
    <h3 class="font-bold text-lg">Cabuyao Population</h3>
    <canvas id="webTrafficConcentration" class="w-full h-full"></canvas>
</div>

</div>


   <!-- CENTER SECTION -->
<div class="lg:col-span-2 space-y-6">
    <!-- Total Businesses -->
    <div class="bg-white rounded-lg shadow p-4">
        <h3 class="font-bold text-lg">Total Businesses</h3>
        <canvas id="pageViews" class="w-full h-64"></canvas>
    </div>

    <!-- Barangay Businesses Counts and Business Sub-Categories (Side-by-Side) -->
    <div class="flex flex-col lg:flex-row gap-4">
        <!-- Barangay Businesses Counts -->
        <div class="bg-white rounded-lg shadow p-5 flex-1 overflow-y-auto">
            <h3 id="categoryHeader" class="font-bold text-lg">Barangay Businesses Counts</h3>
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="border-b-2 border-gray-300 py-2 px-4">Barangay</th>
                        <th class="border-b-2 border-gray-300 py-2 px-4 text-right">Count</th>
                    </tr>
                </thead>
                <tbody id="businessCategoriesTable" class="divide-y divide-gray-200">
                    <!-- Data dynamically populated -->
                </tbody>
            </table>
        </div>

        <!-- Business Sub-Categories -->
        <div class="bg-white rounded-lg shadow p-5 flex-1 overflow-y-auto">
            <h3 id="subCategoryHeader" class="font-bold text-lg">Business Sub-Categories</h3>
            <table id="subCategoriesTable" class="w-full text-left border-collapse">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="border-b-2 border-gray-300 py-2 px-4">Sub Categories</th>
                        <th class="border-b-2 border-gray-300 py-2 px-4 text-right">Counts</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    <!-- Rows dynamically populated -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Barangays of Cabuyao -->
    <div class="bg-white rounded-lg shadow p-4">
        <h3 class="font-bold text-lg">BARANGAYS OF CABUYAO</h3>
        <div class="grid grid-cols-2 gap-4 max-h-64 overflow-y-auto">
            <a href="/analytics/barangays/html/baclaran.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Baclaran</a>
            <a href="/analytics/barangays/html/banay-banay.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Banay-Banay</a>
            <a href="/analytics/barangays/html/banlic.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Banlic</a>
            <a href="/analytics/barangays/html/bigaa.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Bigaa</a>
            <a href="/analytics/barangays/html/butong.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Butong</a>
            <a href="/analytics/barangays/html/casile.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Casile</a>
            <a href="/analytics/barangays/html/diezmo.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Diezmo</a>
            <a href="/analytics/barangays/html/gulod.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Gulod</a>
            <a href="/analytics/barangays/html/mamatid.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Mamatid</a>
            <a href="/analytics/barangays/html/marinig.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Marinig</a>
            <a href="/analytics/barangays/html/niugan.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Niugan</a>
            <a href="/analytics/barangays/html/pittland.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Pittland</a>
            <a href="/analytics/barangays/html/pulo.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Pulo</a>
            <a href="/analytics/barangays/html/sala.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Sala</a>
            <a href="/analytics/barangays/html/san isidro.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">San Isidro</a>
            <a href="/analytics/barangays/html/pob1.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Poblacion Uno</a>
            <a href="/analytics/barangays/html/pob2.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Poblacion Dos</a>
            <a href="/analytics/barangays/html/pob3.html" class="block bg-gray-100 hover:bg-gray-200 rounded-md px-4 py-2">Poblacion Tres</a>
        </div>
    </div>
</div>



<!-- LOADING OVERLAY -->
<div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="loader border-t-4 border-white rounded-full w-12 h-12 animate-spin"></div>
</div>

<script src="/homepage/homepage.js" defer></script>
<script src="analytics.js" defer></script>
</body>
</html>
