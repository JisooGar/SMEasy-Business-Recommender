<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMEasy | Visualization Dashboard</title>
    <link rel="stylesheet" href="analytics.css">
    <link rel="stylesheet" href="/homepage/homepage.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="analytics.js" defer></script>
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <script type="text/javascript">
        function preventBack(){window.history.forward()};
        setTimeout("preventBack()",0);
            window.onunload=function(){null;}
    </script>
</head>
<body>

<!-- HEADER -->
<nav class="header">
    <div class="header-content">
        <!-- Logo and Title -->
        <div class="logo-section">
            <img src="/homepage/smeasylogo.png" alt="LOGO" class="logo">
            <div class="logo-text">
                <span class="name">SMEasy</span>
                <span class="profession">Business Homepage</span>
            </div>
        </div>
  
        <!-- Navigation Links -->
        <ul class="nav-links">
            <li><a href="/homepage/homepage.html"><i class='bx bx-home-alt icon'></i> Homepage</a></li>
            <li><a href="/analytics/analytics.html"><i class='bx bx-bar-chart-alt-2 icon'></i> Visualization</a></li>
            <li><a href="/recommender_page/recommender.html"><i class='bx bx-pie-chart-alt icon'></i> Analysis</a></li>
            <li><a href="/about.html/aboutUs.html"><i class='bx bx-heart icon'></i> About</a></li>
        </ul>
  
        <!-- User Profile Dropdown -->
        <div class="user-profile">
            <button id="profileDropdownButton" class="profile-btn">
                <span class="user-initial">G</span>
            </button>
            <div id="profileDropdown" class="profile-dropdown hidden">
                <div class="profile-info">
                    <span id="userName">Geron</span>
                    <span id="userEmail">geron@example.com</span>
                </div>
                <hr>
                <div class="header-controls">
                    <a href="" id="signOutButton" class="logout"><i class='bx bx-log-out icon'></i> Logout</a>
                    <div class="dark-mode-toggle">
                        <span class="mode-text">Dark mode</span>
                        <div class="toggle-switch">
                            <span class="switch"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </nav>


         <!--date filtering-->
    <div class="content-section">
        <div class="layout-grid">
            <div class="left-section">
                <div class="filters">
                    <label for="dateRange">Overall Business Categories:</label>
                    <select id="dateRange">
                        <option>All</option>
                        <option>Automotive Services</option>
                        <option>Construction and Real Estate</option>
                        <option>Cooperative Business</option>
                        <option>Creative and Media Service</option>
                        <option>Education Services</option>
                        <option>Entertainment and Recreation</option>
                        <option>Finance and Insurance</option>
                        <option>Food Services</option>
                        <option>Healthcare Services</option>
                        <option>IT and Digital Services</option>
                        <option>Manufacturing and Production</option>
                        <option>Personal and Household Services</option>
                        <option>Personal Care Services</option>
                        <option>Professional Services</option>
                        <option>Retail Stores</option>
                        <option>Tourism and Hospitality</option>
                        <option>Transportation and Logistics</option>
                        <option>Wholesale and Distribution</option>
                    </select>
                </div>

                <!--left section-->
                <div class="stat-card">
                    <h3>Total Number of Businesses</h3>
                    <p id="totalBusinesses">2679</p>
                    <span>As of May 2024</span>
                </div>
                
                <div class="stat-card">
                    <h3>Cabuyao Population</h3>
                    <p id="population">421,440</p>
                    <span>As of 2023</span>
                </div>
                
                <div class="stat-card">
                    <h3>Barangay with the most</h3>
                    <p id="stat3">Pulo</p>
                </div>
                
                <div class="stat-card"> 
                    <h3>Barangay with the least</h3>
                    <p id="stat4">Casile</p>
                </div>
                
                <div class="stat-card">
                    <h3>Barangay with Highest Market Demands</h3>
                    <p id="marketDemands">Pulo</p>
                    <span>As of October 2024</span>
                </div>
            </div>


            <div class="graph-grid">
                <!-- TOTAL BUSINESSES container stays on top -->
                <div class="top-section">
                    <div class="graph-card page-views-graph extended">
                        <h3>TOTAL BUSINESSES</h3>
                        <canvas id="pageViews"></canvas>
                    </div>
                </div>
            
                <!-- TOTAL POPULATION and NEW METRIC side by side -->
                <div class="bottom-section">
                    <div class="graph-card web-traffic-graph">
                        <h3>CABUYAO POPULATION</h3>
                        <canvas id="webTrafficConcentration"></canvas>
                    </div>

                    <div class="new-metric-container">
                        <h3>BARANGAY BUSINESSES COUNTS</h3>
                        <div class="scrollable-table">
                            <table id="businessCategoriesTable">
                                <thead>
                                    <tr>
                                        <th id="categoryHeader">Business Category Name</th> <!-- Add an ID to the header for easy access -->
                                        <th>Counts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Rows will be dynamically generated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>

                     <!--barangays-->
                      <div class="barangays-container">
                        <h3>BARANGAYS OF CABUYAO</h3>
                        <div class="barangays-scroll">
                            <a href="/analytics/barangays/html/baclaran.html" class="barangay-item">Baclaran</a>
                            <a href="/analytics/barangays/html/banay-banay.html" class="barangay-item">Banay-Banay</a>
                            <a href="/analytics/barangays/html/banlic.html" class="barangay-item">Banlic</a>
                            <a href="/analytics/barangays/html/bigaa.html" class="barangay-item">Bigaa</a>
                            <a href="/analytics/barangays/html/butong.html" class="barangay-item">Butong</a>
                            <a href="/analytics/barangays/html/casile.html" class="barangay-item">Casile</a>
                            <a href="/analytics/barangays/html/diezmo.html" class="barangay-item">Diezmo</a>
                            <a href="/analytics/barangays/html/gulod.html" class="barangay-item">Gulod</a>
                            <a href="/analytics/barangays/html/mamatid.html" class="barangay-item">Mamatid</a>
                            <a href="/analytics/barangays/html/marinig.html" class="barangay-item">Marinig</a>
                            <a href="/analytics/barangays/html/niugan.html" class="barangay-item">Niugan</a>
                            <a href="/analytics/barangays/html/pittland.html" class="barangay-item">Pittland</a>
                            <a href="/analytics/barangays/html/pulo.html" class="barangay-item">Pulo</a>
                            <a href="/analytics/barangays/html/sala.html" class="barangay-item">Sala</a>
                            <a href="/analytics/barangays/html/san isidro.html" class="barangay-item">San Isidro</a>
                            <a href="/analytics/barangays/html/pob1.html" class="barangay-item">Barangay I Poblacion</a>
                            <a href="/analytics/barangays/html/pob2.html" class="barangay-item">Barangay II Poblacion</a>
                            <a href="/analytics/barangays/html/pob3.html" class="barangay-item">Barangay III Poblacion</a>
                        </div>
                    </div>

                    <div class="new-right-container">
                        <h3>BUSINESS SUB-CATEGORIES</h3>
                        <div class="scrollable-table">
                            <table id="subCategoriesTable">
                                <thead>
                                    <tr>
                                        <th id="subCategoryHeader">Sub Categories</th> <!-- This will display the selected category -->
                                        <th>Counts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Rows will be dynamically generated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    

                </div>
            </div>
        </div>
    </div>

<!-- Loading overlay -->
<div id="loading-overlay" class="loading-overlay">
    <div class="spinner"></div>
</div>

<!-- Logout Modal -->
<div id="logoutModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Log Out</h2>
      <p>Are you sure you want to log out?</p>
      <div class="button-container">
        <button id="confirmLogout" class="modal-btn yes-btn">Yes, Log Out</button>
        <button id="cancelLogout" class="modal-btn no-btn">No, Stay</button>
      </div>
    </div>
  </div>
  

</body>
<script src="/homepage/homepage.js" defer></script>
</html>
